Starting memory profiling tests...
==================================================

Testing multiple P528 cases...

Case: d=100.0km, h1=10.0m, h2=1000.0m, f=1000.0MHz
Propagation Mode: 1
Total Loss: 133.78 dB

Case: d=200.0km, h1=20.0m, h2=200.0m, f=2000.0MHz
Propagation Mode: 3
Total Loss: 198.26 dB

Case: d=300.0km, h1=30.0m, h2=300.0m, f=3000.0MHz
Propagation Mode: 3
Total Loss: 216.32 dB

Case: d=400.0km, h1=40.0m, h2=20000.0m, f=4000.0MHz
Propagation Mode: 1
Total Loss: 164.07 dB
Filename: /home/raulm/anatel/P528py/scalar/tests/memory_profile_test.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
    11     78.0 MiB     78.0 MiB           1   @profile
    12                                         def test_P528_cases():
    13     78.0 MiB      0.0 MiB           1       print("\nTesting multiple P528 cases...")
    14                                             # These are known working cases
    15     78.0 MiB      0.0 MiB           1       cases = [
    16                                                 (100.0, 10.0, 1000.0, 1000.0, 0, 50),  # Known working case 1
    17                                                 (200.0, 20.0, 200.0, 2000.0, 1, 60),   # Known working case 2
    18                                                 (300.0, 30.0, 300.0, 3000.0, 0, 70),   # Known working case 3
    19                                                 (400.0, 40.0, 20000.0, 4000.0, 1, 80)  # Known working case 4
    20                                             ]
    21                                             
    22     78.0 MiB      0.0 MiB           1       results = []
    23     78.3 MiB      0.0 MiB           5       for case in cases:
    24     78.3 MiB      0.0 MiB           4           d_km, h1_m, h2_m, f_mhz, t_pol, p = case
    25     78.3 MiB      0.3 MiB           4           result = P528(d_km, h1_m, h2_m, f_mhz, t_pol, p)
    26     78.3 MiB      0.0 MiB           4           results.append(result)
    27     78.3 MiB      0.0 MiB           4           print(f"\nCase: d={d_km}km, h1={h1_m}m, h2={h2_m}m, f={f_mhz}MHz")
    28     78.3 MiB      0.0 MiB           4           print(f"Propagation Mode: {result.propagation_mode}")
    29     78.3 MiB      0.0 MiB           4           print(f"Total Loss: {result.A__db:.2f} dB")
    30                                             
    31     78.3 MiB      0.0 MiB           1       return results



Testing P528_Ex with components...
Filename: /home/raulm/anatel/P528py/scalar/tests/memory_profile_test.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
    33     78.3 MiB     78.3 MiB           1   @profile
    34                                         def test_P528_Ex_case():
    35     78.3 MiB      0.0 MiB           1       print("\nTesting P528_Ex with components...")
    36     78.3 MiB      0.0 MiB           1       from p528 import Terminal, TroposcatterParams, Path, LineOfSightParams, Result
    37                                             
    38                                             # Use parameters from a known working case
    39     78.3 MiB      0.0 MiB           1       d_km = 100.0
    40     78.3 MiB      0.0 MiB           1       h1_m = 10.0
    41     78.3 MiB      0.0 MiB           1       h2_m = 1000.0
    42     78.3 MiB      0.0 MiB           1       f_mhz = 1000.0
    43     78.3 MiB      0.0 MiB           1       t_pol = 0
    44     78.3 MiB      0.0 MiB           1       p = 50
    45                                             
    46     78.3 MiB      0.0 MiB           1       terminal_1 = Terminal()
    47     78.3 MiB      0.0 MiB           1       terminal_2 = Terminal()
    48     78.3 MiB      0.0 MiB           1       tropo = TroposcatterParams()
    49     78.3 MiB      0.0 MiB           1       path = Path()
    50     78.3 MiB      0.0 MiB           1       los_params = LineOfSightParams()
    51     78.3 MiB      0.0 MiB           1       result = Result()
    52                                             
    53     78.3 MiB      0.0 MiB           2       return P528_Ex(d_km, h1_m, h2_m, f_mhz, t_pol, p, result, 
    54     78.3 MiB      0.0 MiB           1                      terminal_1, terminal_2, tropo, path, los_params)



All tests completed.
==================================================
